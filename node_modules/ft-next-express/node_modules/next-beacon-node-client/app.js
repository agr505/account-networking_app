/*jshint node:true*/
'use strict';

var Beacon = require('./lib/beacon');

var noOpBeacon = {
	fire: function(){}
};

module.exports = (function(beaconApiUrl){
	if(beaconApiUrl){
		return new Beacon(beaconApiUrl);
	}else{
		console.log('next-beacon-node-client requires a BEACON_API_URL environment variable to send stuff to beacon');
		return noOpBeacon;
	}
}(process.env.BEACON_API_URL));
