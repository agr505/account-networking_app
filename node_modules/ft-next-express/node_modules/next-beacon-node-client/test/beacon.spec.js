/*global describe,it*/
/*jshint node:true*/
'use strict';

var expect	= require('chai').expect;
var Beacon	= require('../lib/beacon');

describe('Next Beacon Node Client', function(){

	it('exports a function', function(){
		expect(Beacon).to.be.a('function');
	});

	it('can be instantiated', function(){
		var beacon = new Beacon('testUrl');
		expect(beacon).to.be.an.instanceof(Beacon);
	});

	it('throws an error when instantiated without url', function(){
		expect(Beacon).to.throw(Error);
	});

	it('has a fire method', function(){
		var beacon = new Beacon('testUrl');
		expect(beacon.fire).to.be.a('function');
	});

	describe('Fire', function(){

		it('refuses to fire when called without an event type', function(){
			var beacon = new Beacon('testUrl');
			expect(beacon.fire).to.throw(Error);
		});

	});
});
