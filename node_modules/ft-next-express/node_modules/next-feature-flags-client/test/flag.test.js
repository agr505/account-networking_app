/*global describe, it*/
/*jshint expr:true*/
'use strict';

require('es6-promise').polyfill();
require('isomorphic-fetch');

var Flag = require('../lib/flag');
var expect = require('chai').expect;

describe('Flag', function() {
	it('should pass through the state', function() {
		var flag = new Flag({ state: true });
		expect(flag.isSwitchedOn).to.be.true;
	});
	it('Return safe state for expired flags', function() {
		var flag = new Flag({ safeState: 'safety first', state: true, expiry: '2013-02-01T00:00:00.000Z' });
		expect(flag.isPastSellByDate).to.be.true;
		expect(flag.isSwitchedOn).to.equal('safety first');
	});
});
